/*
 ============================================================================
 Name        : test.c
 Author      : 
 Version     :
 Copyright   : Your copyright notice
 Description : Hello World in C, Ansi-style
 ============================================================================
 */

#include <stdio.h>
#include <stdlib.h>
#include <ctype.h>
#include <string.h>
int cargarValidarAlfaNumerico(char mensaje[], int tam, char string[]);
int main(void) {
	setbuf(stdout, NULL);
	char codigo[10];
	cargarValidarAlfaNumerico("un", 10,codigo);
	return EXIT_SUCCESS;
}
int cargarValidarAlfaNumerico(char mensaje[], int tam, char string[]){
	int todoOk=0;
	char texto[50];
	int validado=0;
	if(mensaje !=NULL && string!=NULL && tam>0){
		do{
			printf("%s: ",mensaje);
			fflush(stdin);
			fgets(texto,tam,stdin);

			if(strlen(texto)==0){
				printf("No ingreso nada aun. ");
			}else{
				for(int i=0;i<strlen(texto);i++){
					if(!isalpha(texto[i]) && !isdigit(texto[i])){
						printf("Caracteres no validos. ");
						validado=0;
						break;
					}
					validado=1;
				}
			}
		}while(!validado);
		todoOk=1;
		strncpy(string, texto, tam);
	}
	return todoOk;
}

/*
 * Passenger.c
 *
 *  Created on: 19 may. 2022
 *      Author: Maru
 */
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <ctype.h>
#include "Passenger.h"

Passenger* Passenger_new(){
	Passenger* auxPassenger=(Passenger*) malloc(sizeof(Passenger));
	if (auxPassenger==NULL){
		printf("No hay espacio en la memoria dinamica.\n");
		exit(1);
	}
	return auxPassenger;
}
Passenger* Passenger_newParametros(char* idStr,char* nombreStr,char* apellidoStr,char* precioStr,char* tipoPasajeroStr, char* codigoVueloStr, char* estadoVueloStr, eTipo tipos[], eEstado estados[], int tamT, int tamE){
	Passenger* auxPassenger;
	if(idStr!=NULL && nombreStr!=NULL && apellidoStr!=NULL && precioStr!=NULL && tipoPasajeroStr!=NULL && codigoVueloStr!=NULL && estadoVueloStr!=NULL && tipos!=NULL && tamT>0){
		//Passenger_setId(auxPassenger, atoi(idStr));
		Passenger_setNombre(auxPassenger,nombreStr);
		Passenger_setApellido(auxPassenger, apellidoStr);
		Passenger_setCodigoVuelo(auxPassenger, codigoVueloStr);
		Passenger_setTipoPasajero(auxPassenger, obtenerIdPorDescripcionTipo(tipos, tamT,tipoPasajeroStr));
		Passenger_setPrecio(auxPassenger, atof(precioStr));
		Passenger_setEstadoVuelo(auxPassenger,obtenerIdPorDescripcionEstado(estados, tamE,estadoVueloStr));

	}
	return auxPassenger;
}
int Passenger_setId(Passenger* this,int id){
	int todoOk=-1;
	if(this!=NULL){
		this->id=id;
		todoOk=0;
	}
	return todoOk;
}
int Passenger_getId(Passenger* this,int* id){
	int todoOk=-1;
	if(this!=NULL){
		*id=this->id;
		todoOk=0;
	}
	return todoOk;
}

int Passenger_setNombre(Passenger* this,char* nombre){
	int todoOk=-1;
	int lenNombre;
	if(this!=NULL && nombre!=NULL){
		lenNombre=strlen(nombre);
		if(lenNombre>1 && lenNombre<20){
			strlwr(nombre);
			nombre[0]=toupper(nombre[0]);
			strcpy(this->nombre,nombre);
		}
		todoOk=0;
	}
	return todoOk;
}
int Passenger_getNombre(Passenger* this,char* nombre){
	int todoOk=-1;
	if(this!=NULL && nombre!=NULL){
		strlwr(nombre);
		nombre[0]=toupper(nombre[0]);
		strcpy(nombre, this->nombre);
		todoOk=0;
	}
	return todoOk;
}

int Passenger_setApellido(Passenger* this,char* apellido){
	int todoOk=-1;
	int lenApellido;
	if(this!=NULL && apellido!=NULL){
		lenApellido=strlen(apellido);
		if(lenApellido>1 && lenApellido<20){
			strlwr(apellido);
			apellido[0]=toupper(apellido[0]);
			strcpy(this->apellido,apellido);
		}
		todoOk=0;
	}
	return todoOk;
}
int Passenger_getApellido(Passenger* this,char* apellido){
	int todoOk=-1;
	if(this!=NULL && apellido!=NULL){
		strlwr(apellido);
		apellido[0]=toupper(apellido[0]);
		strcpy(apellido, this->apellido);
		todoOk=0;
	}
	return todoOk;
}

int Passenger_setCodigoVuelo(Passenger* this,char* codigoVuelo){
	int todoOk=-1;
	int lenCodigoVuelo;
	if(this!=NULL && codigoVuelo!=NULL){
		lenCodigoVuelo=strlen(codigoVuelo);
		if(lenCodigoVuelo>1 && lenCodigoVuelo<7){
			strlwr(codigoVuelo);
			codigoVuelo[0]=toupper(codigoVuelo[0]);
			strcpy(this->codigoVuelo,codigoVuelo);
		}
		todoOk=0;
	}
	return todoOk;
}
int Passenger_getCodigoVuelo(Passenger* this,char* codigoVuelo){
	int todoOk=-1;
	if(this!=NULL && codigoVuelo!=NULL){
		strlwr(codigoVuelo);
		codigoVuelo[0]=toupper(codigoVuelo[0]);
		strcpy(codigoVuelo, this->codigoVuelo);
		todoOk=0;
	}
	return todoOk;
}

int Passenger_setTipoPasajero(Passenger* this,int tipoPasajero){
	int todoOk=-1;
	if(this!=NULL){
		this->id=tipoPasajero;
		todoOk=0;
	}
	return todoOk;
}
int Passenger_getTipoPasajero(Passenger* this,int* tipoPasajero){
	int todoOk=-1;
	if(this!=NULL){
		*tipoPasajero=this->id;
		todoOk=0;
	}
	return todoOk;
}

int Passenger_setPrecio(Passenger* this,float precio){
	int todoOk=-1;
	if(this!=NULL){
		if(precio>0){
			this->id=precio;
		}else{
			this->id=0;
		}

		todoOk=0;
	}
	return todoOk;
}
int Passenger_getPrecio(Passenger* this,float* precio){
	int todoOk=-1;
	if(this!=NULL){
		*precio=this->id;
		todoOk=0;
	}
	return todoOk;
}
int Passenger_setEstadoVuelo(Passenger* this,int estadoVuelo){
	int todoOk=-1;
	if(this!=NULL){
		this->id=estadoVuelo;
		todoOk=0;
	}
	return todoOk;
}
int Passenger_getEstadoVuelo(Passenger* this,int* estadoVuelo){
	int todoOk=-1;
	if(this!=NULL){
		*estadoVuelo=this->id;
		todoOk=0;
	}
	return todoOk;
}
